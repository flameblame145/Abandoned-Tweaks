<script>
// Generate stars
const starsContainer = document.querySelector('.stars');
for (let i = 0; i < 100; i++) {
  const star = document.createElement('div');
  const size = ['small', 'medium', 'large'][Math.floor(Math.random() * 3)];
  star.className = `star ${size}`;
  star.style.top = Math.random() * 100 + '%';
  star.style.left = Math.random() * 100 + '%';
  starsContainer.appendChild(star);
}

// Data
const products = [
  'Shotgun Pack V1','Bloom Pack V2','WiFi Tweaks','Variety Pack',
  'Mouse Tweaks','0 Delay','Taste Tester','Keyboard Tweaks',
  'Spotify Premium','SMG Bloom Pack V2','Shotgun Pack V2','Bloom Pack V1'
];
const baseTexts = {
  'Shotgun Pack V1': ['My pumps hit so much harder now!'],
  'Bloom Pack V2': ['Barely miss shots now!'],
  'WiFi Tweaks': ['Ping dropped by a lot!'],
  'Variety Pack': ['All tweaks together, best value!'],
  'Mouse Tweaks': ['Edits feel faster now!'],
  '0 Delay': ['Feels insanely smooth!'],
  'Taste Tester': ['Aim feels more consistent!'],
  'Keyboard Tweaks': ['Key response is faster now!'],
  'Spotify Premium': ['No ads ever, love it!'],
  'SMG Bloom Pack V2': ['My sprays are lasers now!'],
  'Shotgun Pack V2': ['185s almost every shot!'],
  'Bloom Pack V1': ['Less random misses now!']
};
const suffixes = [
  "Helped me win more fights.","KD went up!","Feels great!","Totally worth it!",
  "Made my gameplay smoother.","Better damage!","Feels like cheating!","Perfect tweak!",
  "Noticeable difference!","Improved instantly!","Now I'm hitting shots!","Game feels different!",
  "Way smoother experience!","Absolutely love this!","Feels OP!","Big difference!","Would buy again!",
  "Super responsive!","Huge upgrade!","Can't believe how well this works!"
];
const boosters = [
  "Seriously,","Honestly,","For real,","Not kidding,","In my opinion,","To be honest,","From my experience,","After trying it,","I gotta say,","Surprisingly,"
];
const endings = [
  "Highly recommend.","Worth the price.","Totally recommend it!","Can't go back now.","So glad I got this.","Big W!","Amazing tweak!","Game changer!","5 stars easy.","It just works!"
];

// Random name like X**** or Xa****
function randomName() {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  const secondChars = 'abcdefghijklmnopqrstuvwxyz';
  if (Math.random() > 0.5) {
    return chars.charAt(Math.floor(Math.random()*chars.length)) + '****';
  } else {
    return chars.charAt(Math.floor(Math.random()*chars.length)) +
           secondChars.charAt(Math.floor(Math.random()*secondChars.length)) + '****';
  }
}

// Build unique reviews
const productReviews = {};
products.forEach(product => {
  productReviews[product] = [];
  for (let i = 0; i < 20; i++) {
    const base = baseTexts[product][0];
    const suffix = suffixes[Math.floor(Math.random() * suffixes.length)];
    const booster = boosters[Math.floor(Math.random() * boosters.length)];
    const ending = endings[Math.floor(Math.random() * endings.length)];
    const text = `${booster} ${base} ${suffix} ${ending}`;
    const name = randomName();
    const stars = Math.floor(Math.random() * 2) + 4;
    productReviews[product].push({ name, product, stars, text });
  }
});

let currentProductIndex = 0;

function renderPage(index) {
  const product = products[index];
  document.getElementById('productTitle').innerText = product;
  const reviews = productReviews[product];
  document.getElementById('reviews').innerHTML = reviews.map(r=>`
    <div class="review-card">
      <div class="review-name">${r.name}</div>
      <div class="review-product">${r.product}</div>
      <div class="review-stars">${'★'.repeat(r.stars)}${'☆'.repeat(5 - r.stars)}</div>
      <div class="text">${r.text}</div>
    </div>
  `).join('');
  document.getElementById('prevBtn').disabled = index === 0;
  document.getElementById('nextBtn').disabled = index === products.length-1;
}
document.getElementById('prevBtn').onclick = ()=>{ if(currentProductIndex>0){currentProductIndex--; renderPage(currentProductIndex);} };
document.getElementById('nextBtn').onclick = ()=>{ if(currentProductIndex<products.length-1){currentProductIndex++; renderPage(currentProductIndex);} };

renderPage(currentProductIndex);

// Add review modal
document.getElementById('addReviewBtn').onclick = () => {
  document.getElementById('modal').style.display = 'flex';
};
document.getElementById('closeModalBtn').onclick = () => {
  document.getElementById('modal').style.display = 'none';
};
</script>
